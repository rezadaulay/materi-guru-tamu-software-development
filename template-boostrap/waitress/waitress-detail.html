<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Detail Pengantaran - Waitress Mie Jagoan</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand fw-bold" href="waitress-list.html">Waitress MIE JAGOAN</a>
      </div>
    </nav>

    <div class="container py-5">
      <h4 class="mb-4">Detail Pengantaran</h4>

      <div class="card shadow-sm p-4">
        <div id="orderInfo" class="mb-3 small">
          <!-- Informasi pesanan akan dimuat di sini -->
        </div>

        <div class="border border-2 rounded text-center p-3 mb-3 fw-bold fs-5" id="tableDisplay">
          Nomor Meja
        </div>

        <div class="d-flex flex-column flex-md-row gap-3">
          <button class="btn btn-success flex-fill" onclick="markDelivered()">Sudah Diantar</button>
          <a href="waitress-list.html" class="btn btn-outline-dark flex-fill">Kembali</a>
        </div>
      </div>
    </div>

    <footer class="text-center text-muted small py-3 border-top">&copy; 2025 Mie Jagoan Waitress</footer>

    <script>
      const params = new URLSearchParams(window.location.search);
      const orderId = parseInt(params.get('id'));

      const orders = [
        {id:1, table:'05', menu:'Nasi Goreng, Es Teh', status:'Selesai'},
        {id:2, table:'07', menu:'Mie Ayam', status:'Selesai'}
      ];

      const history = [];
      const order = orders.find(o => o.id === orderId);

      const info = document.getElementById('orderInfo');
      const tableDisplay = document.getElementById('tableDisplay');

      if (!order) {
        info.innerHTML = '<p class="text-danger">Pesanan tidak ditemukan.</p>';
      } else {
        info.innerHTML = `<div><strong>Menu:</strong> ${order.menu}</div><div><strong>Status:</strong> ${order.status}</div>`;
        tableDisplay.innerText = 'Meja ' + order.table;
      }

      function markDelivered() {
        if (!order) return;
        order.status = 'Sudah Diantar';
        history.push({...order, time:new Date().toLocaleTimeString()});
        alert('Pesanan telah diantar ke meja ' + order.table);
        window.location.href = 'waitress-list.html';
      }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
